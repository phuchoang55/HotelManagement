<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hotel Management & Booking System - Guest Home</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        :root {
            --primary-color: #2c3e50;
            --secondary-color: #3498db;
            --accent-color: #e74c3c;
            --light-bg: #f8f9fa;
            --dark-text: #2c3e50;
        }

        body {
            font-family: 'Arial', sans-serif;
            line-height: 1.6;
            color: var(--dark-text);
        }

        .navbar-custom {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .navbar-brand {
            font-weight: bold;
            font-size: 1.5rem;
        }

        .hero-section {
            background: linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5)), url('https://images.unsplash.com/photo-1566073771259-6a8506099945?ixlib=rb-4.0.3&auto=format&fit=crop&w=1950&q=80');
            background-size: cover;
            background-position: center;
            min-height: 70vh;
            display: flex;
            align-items: center;
            color: white;
            text-align: center;
        }

        .hero-content h1 {
            font-size: 3.5rem;
            font-weight: 300;
            margin-bottom: 1rem;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }

        .hero-content p {
            font-size: 1.2rem;
            margin-bottom: 2rem;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
        }

        .search-box {
            background: rgba(255,255,255,0.95);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 2rem;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            margin-top: 2rem;
        }

        .search-box h3 {
            color: var(--primary-color);
            margin-bottom: 1.5rem;
        }

        .btn-primary-custom {
            background: linear-gradient(135deg, var(--secondary-color), var(--primary-color));
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .btn-primary-custom:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .section-title {
            color: var(--primary-color);
            font-weight: 300;
            margin-bottom: 3rem;
            text-align: center;
            position: relative;
        }

        .section-title::after {
            content: '';
            display: block;
            width: 80px;
            height: 3px;
            background: var(--secondary-color);
            margin: 1rem auto;
            border-radius: 2px;
        }

        .room-card {
            border: none;
            border-radius: 15px;
            overflow: hidden;
            transition: all 0.3s ease;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            margin-bottom: 2rem;
        }

        .room-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0,0,0,0.15);
        }

        .room-card img {
            height: 200px;
            object-fit: cover;
        }

        .card-body {
            padding: 1.5rem;
        }

        .price-tag {
            background: var(--accent-color);
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-weight: bold;
            position: absolute;
            top: 15px;
            right: 15px;
        }

        .quick-actions {
            background: var(--light-bg);
            padding: 4rem 0;
        }

        .action-card {
            text-align: center;
            padding: 2rem;
            border-radius: 15px;
            background: white;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            margin-bottom: 2rem;
            height: 100%;
        }

        .action-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
        }

        .action-icon {
            font-size: 3rem;
            color: var(--secondary-color);
            margin-bottom: 1rem;
        }

        .footer-custom {
            background: var(--primary-color);
            color: white;
            padding: 3rem 0;
            margin-top: 4rem;
        }

        .form-control:focus {
            border-color: var(--secondary-color);
            box-shadow: 0 0 0 0.2rem rgba(52, 152, 219, 0.25);
        }

        @media (max-width: 768px) {
            .hero-content h1 {
                font-size: 2.5rem;
            }

            .search-box {
                padding: 1.5rem;
            }
        }

        .form-label{
            color: black;
        }
    </style>
</head>
<body>
<!-- Navigation -->
<nav class="navbar navbar-expand-lg navbar-dark navbar-custom">
    <div class="container">
        <a class="navbar-brand" href="#">
            <i class="fas fa-hotel me-2"></i>
            Hotel Management System
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav ms-auto">
                <li class="nav-item">
                    <a class="nav-link active" href="#home">Home</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#rooms">Rooms</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#services">Services</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#contact">Contact</a>
                </li>
                <li class="nav-item" th:if="${session.user == null}">
                    <a class="nav-link" href="/login">
                        <i class="fas fa-sign-in-alt me-1"></i>Login
                    </a>
                </li>
                <li class="nav-item" th:if="${session.user != null}">
                    <div class="dropdown">
                        <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">
                            <i class="fas fa-user me-1"></i>
                            <span th:text="${session.user.name}">User</span>
                        </a>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item" href="/profile"><i class="fas fa-user-cog me-1"></i>Profile</a></li>
                            <li><a class="dropdown-item" href="/booking-history"><i class="fas fa-history me-1"></i>Booking History</a></li>
                            <li><hr class="dropdown-divider"></li>
                            <li><a class="dropdown-item" href="/logout"><i class="fas fa-sign-out-alt me-1"></i>Logout</a></li>
                        </ul>
                    </div>
                </li>
            </ul>
        </div>
    </div>
</nav>

<!-- Hero Section -->
<section class="hero-section" id="home">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-10">
                <div class="hero-content">
                    <h1>Welcome to Paradise Hotel</h1>
                    <p>Experience luxury and comfort in the heart of the city</p>

                    <!-- Room Search Box -->
                    <div class="search-box">
                        <h3><i class="fas fa-search me-2"></i>Search Available Rooms</h3>
                        <form th:action="@{/search-rooms}" method="GET" id="roomSearchForm">
                            <div class="row g-3">
                                <div class="col-md-3">
                                    <label class="form-label">Check-in Date</label>
                                    <input type="date" class="form-control" name="checkinDate" required>
                                </div>
                                <div class="col-md-3">
                                    <label class="form-label">Check-out Date</label>
                                    <input type="date" class="form-control" name="checkoutDate" required>
                                </div>
                                <div class="col-md-2">
                                    <label class="form-label">Guests</label>
                                    <select class="form-control" name="guests">
                                        <option value="1">1 Guest</option>
                                        <option value="2">2 Guests</option>
                                        <option value="3">3 Guests</option>
                                        <option value="4">4+ Guests</option>
                                    </select>
                                </div>
                                <div class="col-md-2">
                                    <label class="form-label">Room Type</label>
                                    <select class="form-control" name="roomType">
                                        <option value="">All Types</option>
                                        <option value="single">Single</option>
                                        <option value="double">Double</option>
                                        <option value="suite">Suite</option>
                                        <option value="deluxe">Deluxe</option>
                                    </select>
                                </div>
                                <div class="col-md-2 d-flex align-items-end">
                                    <button type="submit" class="btn btn-primary-custom w-100">
                                        <i class="fas fa-search me-1"></i>Search
                                    </button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Featured Rooms Section -->
<section class="py-5" id="rooms">
    <div class="container">
        <h2 class="section-title">Featured Rooms</h2>
        <div class="row">
            <div class="col-lg-4 col-md-6" th:each="room : ${featuredRooms}">
                <div class="card room-card position-relative">
                    <div class="price-tag" th:text="'$' + ${room.price} + '/night'">$150/night</div>
                    <img th:src="${room.imageUrl}" class="card-img-top" alt="Room Image">
                    <div class="card-body">
                        <h5 class="card-title" th:text="${room.name}">Deluxe Suite</h5>
                        <p class="card-text" th:text="${room.description}">
                            Spacious room with city view, modern amenities, and luxurious comfort.
                        </p>
                        <div class="d-flex justify-content-between align-items-center">
                            <small class="text-muted">
                                <i class="fas fa-users me-1"></i>
                                <span th:text="${room.capacity}">2</span> Guests
                            </small>
                            <div class="btn-group">
                                <a th:href="@{/room-details/{id}(id=${room.id})}" class="btn btn-outline-primary btn-sm">
                                    <i class="fas fa-info-circle me-1"></i>Details
                                </a>
                                <a th:href="@{/book-room/{id}(id=${room.id})}" class="btn btn-primary-custom btn-sm">
                                    <i class="fas fa-calendar-check me-1"></i>Book Now
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Default rooms if no data from backend -->
            <div class="col-lg-4 col-md-6" th:if="${featuredRooms == null or #lists.isEmpty(featuredRooms)}">
                <div class="card room-card position-relative">
                    <div class="price-tag">$120/night</div>
                    <img src="https://images.unsplash.com/photo-1631049307264-da0ec9d70304?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" class="card-img-top" alt="Standard Room">
                    <div class="card-body">
                        <h5 class="card-title">Standard Room</h5>
                        <p class="card-text">Comfortable room with essential amenities for a pleasant stay.</p>
                        <div class="d-flex justify-content-between align-items-center">
                            <small class="text-muted"><i class="fas fa-users me-1"></i>2 Guests</small>
                            <div class="btn-group">
                                <a href="/room-details/1" class="btn btn-outline-primary btn-sm">
                                    <i class="fas fa-info-circle me-1"></i>Details
                                </a>
                                <a href="/book-room/1" class="btn btn-primary-custom btn-sm">
                                    <i class="fas fa-calendar-check me-1"></i>Book Now
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-lg-4 col-md-6" th:if="${featuredRooms == null or #lists.isEmpty(featuredRooms)}">
                <div class="card room-card position-relative">
                    <div class="price-tag">$200/night</div>
                    <img src="https://images.unsplash.com/photo-1618773928121-c32242e63f39?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" class="card-img-top" alt="Deluxe Suite">
                    <div class="card-body">
                        <h5 class="card-title">Deluxe Suite</h5>
                        <p class="card-text">Spacious suite with premium amenities and stunning city views.</p>
                        <div class="d-flex justify-content-between align-items-center">
                            <small class="text-muted"><i class="fas fa-users me-1"></i>4 Guests</small>
                            <div class="btn-group">
                                <a href="/room-details/2" class="btn btn-outline-primary btn-sm">
                                    <i class="fas fa-info-circle me-1"></i>Details
                                </a>
                                <a href="/book-room/2" class="btn btn-primary-custom btn-sm">
                                    <i class="fas fa-calendar-check me-1"></i>Book Now
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-lg-4 col-md-6" th:if="${featuredRooms == null or #lists.isEmpty(featuredRooms)}">
                <div class="card room-card position-relative">
                    <div class="price-tag">$350/night</div>
                    <img src="https://images.unsplash.com/photo-1582719478250-c89cae4dc85b?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" class="card-img-top" alt="Presidential Suite">
                    <div class="card-body">
                        <h5 class="card-title">Presidential Suite</h5>
                        <p class="card-text">Ultimate luxury experience with premium services and amenities.</p>
                        <div class="d-flex justify-content-between align-items-center">
                            <small class="text-muted"><i class="fas fa-users me-1"></i>6 Guests</small>
                            <div class="btn-group">
                                <a href="/room-details/3" class="btn btn-outline-primary btn-sm">
                                    <i class="fas fa-info-circle me-1"></i>Details
                                </a>
                                <a href="/book-room/3" class="btn btn-primary-custom btn-sm">
                                    <i class="fas fa-calendar-check me-1"></i>Book Now
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Quick Actions Section -->
<section class="quick-actions" id="services">
    <div class="container">
        <h2 class="section-title">Guest Services</h2>
        <div class="row">
            <div class="col-lg-3 col-md-6">
                <div class="action-card">
                    <div class="action-icon">
                        <i class="fas fa-search"></i>
                    </div>
                    <h5>Search Rooms</h5>
                    <p>Find the perfect room for your stay with our advanced search options.</p>
                    <a href="#home" class="btn btn-outline-primary">Search Now</a>
                </div>
            </div>
            <div class="col-lg-3 col-md-6">
                <div class="action-card">
                    <div class="action-icon">
                        <i class="fas fa-calendar-plus"></i>
                    </div>
                    <h5>Create Booking</h5>
                    <p>Book your preferred room with our simple and secure booking process.</p>
                    <a href="/create-booking" class="btn btn-outline-primary">Book Room</a>
                </div>
            </div>
            <div class="col-lg-3 col-md-6">
                <div class="action-card">
                    <div class="action-icon">
                        <i class="fas fa-history"></i>
                    </div>
                    <h5>Booking History</h5>
                    <p>View and manage your past and upcoming bookings.</p>
                    <a href="/booking-history" class="btn btn-outline-primary">View History</a>
                </div>
            </div>
            <div class="col-lg-3 col-md-6">
                <div class="action-card">
                    <div class="action-icon">
                        <i class="fas fa-star"></i>
                    </div>
                    <h5>Feedback & Review</h5>
                    <p>Share your experience and help us improve our services.</p>
                    <a href="/feedback" class="btn btn-outline-primary">Leave Review</a>
                </div>
            </div>
        </div>

        <div class="row mt-4">
            <div class="col-lg-3 col-md-6">
                <div class="action-card">
                    <div class="action-icon">
                        <i class="fas fa-user-cog"></i>
                    </div>
                    <h5>User Profile</h5>
                    <p>Manage your account settings and personal information.</p>
                    <a href="/profile" class="btn btn-outline-primary">Edit Profile</a>
                </div>
            </div>
            <div class="col-lg-3 col-md-6">
                <div class="action-card">
                    <div class="action-icon">
                        <i class="fas fa-bell"></i>
                    </div>
                    <h5>Notifications</h5>
                    <p>Stay updated with booking confirmations and service notifications.</p>
                    <a href="/notifications" class="btn btn-outline-primary">View Notifications</a>
                </div>
            </div>
            <div class="col-lg-3 col-md-6">
                <div class="action-card">
                    <div class="action-icon">
                        <i class="fas fa-tags"></i>
                    </div>
                    <h5>Apply Promo Code</h5>
                    <p>Use promotional codes to get discounts on your bookings.</p>
                    <a href="/promo-codes" class="btn btn-outline-primary">Apply Code</a>
                </div>
            </div>
            <div class="col-lg-3 col-md-6">
                <div class="action-card">
                    <div class="action-icon">
                        <i class="fas fa-credit-card"></i>
                    </div>
                    <h5>Payment Methods</h5>
                    <p>Manage your payment options for secure and quick bookings.</p>
                    <a href="/payment-methods" class="btn btn-outline-primary">Manage Payments</a>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Footer -->
<footer class="footer-custom" id="contact">
    <div class="container">
        <div class="row">
            <div class="col-lg-4">
                <h5><i class="fas fa-hotel me-2"></i>Hotel Management System</h5>
                <p>Your comfort is our priority. Experience luxury and hospitality at its finest.</p>
                <div class="social-links">
                    <a href="#" class="text-white me-3"><i class="fab fa-facebook-f"></i></a>
                    <a href="#" class="text-white me-3"><i class="fab fa-twitter"></i></a>
                    <a href="#" class="text-white me-3"><i class="fab fa-instagram"></i></a>
                    <a href="#" class="text-white"><i class="fab fa-linkedin-in"></i></a>
                </div>
            </div>
            <div class="col-lg-4">
                <h5>Contact Information</h5>
                <p><i class="fas fa-map-marker-alt me-2"></i>123 Hotel Street, City Center</p>
                <p><i class="fas fa-phone me-2"></i>+1 (555) 123-4567</p>
                <p><i class="fas fa-envelope me-2"></i>info@hotelmanagement.com</p>
            </div>
            <div class="col-lg-4">
                <h5>Quick Links</h5>
                <ul class="list-unstyled">
                    <li><a href="/privacy-policy" class="text-white-50">Privacy Policy</a></li>
                    <li><a href="/terms-of-service" class="text-white-50">Terms of Service</a></li>
                    <li><a href="/faq" class="text-white-50">FAQ</a></li>
                    <li><a href="/contact" class="text-white-50">Contact Us</a></li>
                </ul>
            </div>
        </div>
        <hr class="my-4">
        <div class="text-center">
            <p>&copy; 2024 Hotel Management & Booking System. All rights reserved.</p>
        </div>
    </div>
</footer>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<!-- Custom JavaScript -->
<script>
    // Set minimum date to today for check-in
    document.addEventListener('DOMContentLoaded', function() {
        const today = new Date().toISOString().split('T')[0];
        document.querySelector('input[name="checkinDate"]').setAttribute('min', today);

        // Update checkout date minimum when checkin date changes
        document.querySelector('input[name="checkinDate"]').addEventListener('change', function() {
            const checkinDate = this.value;
            const checkoutInput = document.querySelector('input[name="checkoutDate"]');
            checkoutInput.setAttribute('min', checkinDate);

            // Clear checkout date if it's before checkin date
            if (checkoutInput.value && checkoutInput.value <= checkinDate) {
                checkoutInput.value = '';
            }
        });

        // Form validation
        document.getElementById('roomSearchForm').addEventListener('submit', function(e) {
            const checkinDate = document.querySelector('input[name="checkinDate"]').value;
            const checkoutDate = document.querySelector('input[name="checkoutDate"]').value;

            if (!checkinDate || !checkoutDate) {
                e.preventDefault();
                alert('Please select both check-in and check-out dates.');
                return;
            }

            if (new Date(checkoutDate) <= new Date(checkinDate)) {
                e.preventDefault();
                alert('Check-out date must be after check-in date.');
                return;
            }
        });
    });
</script>
</body>
</html>